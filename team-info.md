# ETH Hangzhou Hackathon é¡¹ç›®æäº¤è¯´æ˜

ETH Hangzhou Hackathon çš„é¡¹ç›®éœ€è¦æäº¤åˆ°æœ¬é¡µï¼ŒPRï¼ˆPull-Requestï¼‰æˆªæ­¢æ—¶é—´ä¸º 2023å¹´10æœˆ16æ—¥ ä¸‹åˆ14:00ï¼ˆåŒ—äº¬æ—¶é—´ï¼ŒUTC+8ï¼‰ã€‚ä½ éœ€è¦åœ¨ä½ çš„é¡¹ç›®ä¸‹æ›´æ–°ä»¥ä¸‹å†…å®¹:
1. é¡¹ç›®åç§°
2. æ‰€é€‰èµ›é“ï¼ˆPublic Goodsï¼ŒLayer2 Applicationï¼ŒZero Knowledge ä¸»èµ›é“ä¸‰é€‰ä¸€ï¼‰
3. é¡¹ç›®å›¾ç‰‡ï¼ˆ1å¼ æœ‰ä»£è¡¨æ€§çš„å›¾ç‰‡ï¼Œä¸è¦è¿‡é•¿ï¼‰
4. ç®€ä»‹
5. é˜Ÿé•¿å’Œé˜Ÿå‘˜
6. æœ¬é¡¹ç›®åœ¨è¿™æ¬¡é»‘å®¢æ¾çš„ç›®æ ‡
7. é»‘å®¢æ¾å‰ä¸¤æ—¥çš„è¿›åº¦
8. Demo è§†é¢‘é“¾æ¥ï¼ˆå¯ä»¥æ˜¯å½•å±æˆ–å…¶ä»–å½¢å¼ï¼‰ï¼Œå¯ä»¥é€‰æ‹©çš„è§†é¢‘å¹³å°ï¼š[Youtube](https://youtube.com)ï¼Œ[Bilibili](https://bilibili.com)ï¼Œ[Loom](https://www.loom.com/)ï¼Œè§†é¢‘é•¿åº¦ä¸èƒ½è¶…è¿‡3åˆ†é’Ÿï¼Œå¦åˆ™æ‰£åˆ†ã€‚
9. é¡¹ç›® github repo é“¾æ¥
10. å£°æ˜æœªåŸºäºä¹‹å‰çš„é¡¹ç›®, å¦‚: è¯¥é¡¹ç›®æ˜¯æœ¬æ¬¡hackathonæœŸé—´ï¼Œä»0åˆ°1å¼€å‘çš„é¡¹ç›®ï¼Œå®Œå…¨åŸåˆ›ã€‚
11. é¡¹ç›® Demo é“¾æ¥ï¼ˆé€‰å¡«ï¼‰

åœ¨æˆªæ­¢æ—¶é—´å‰æäº¤ PRï¼Œä¸”åŒ…å«å‰ 10 é¡¹ä¿¡æ¯çš„é¡¹ç›®ï¼Œè§†ä¸ºæäº¤æˆåŠŸï¼Œå¦åˆ™ä¸å‚ä¸è¯„å¥–ã€‚

è¯„å§”å°†åœ¨2023å¹´10æœˆ16æ—¥ä¸‹åˆ14-18ç‚¹æœŸé—´ï¼Œæ ¹æ®ä»¥ä¸‹4ä¸ªç»´åº¦å¯¹é¡¹ç›®è¿›è¡Œç¬¬ä¸€è½®æ‰“åˆ†ï¼Œæ¯ä¸ªèµ›é“çš„å‰5åå¯ä»¥å‚åŠ æ™šä¸Š19ç‚¹çš„Demo Dayï¼š
1. ä»£ç  ğŸ§±
2. åˆ›æ–°æ€§ ğŸ’¡
3. Demoå®Œæ•´åº¦ ğŸ“
4. å¯¹ä»¥å¤ªåŠç”Ÿæ€çš„é‡è¦æ€§ â™»ï¸

è¿›å…¥Demo Dayçš„æ¯ä¸ªé¡¹ç›®æœ‰ 5 åˆ†é’Ÿå±•ç¤ºæ—¶é—´ã€‚

ä»¥ETH Beijingè·å¥–é¡¹ç›®SLOADSä¸ºä¾‹, è¯·å‚è€ƒä»¥ä¸‹æ ¼å¼æäº¤PR:


# SLOADS(ä»¥ETH Beijingè·å¥–é¡¹ç›®ä¸ºä¾‹)

**1 é¡¹ç›®åç§°**: SLOADS

**2 æ‰€é€‰èµ›é“**: Public Goods

**3 é¡¹ç›®å›¾ç‰‡**:

![foundry](https://book.getfoundry.sh/images/foundry-banner.png)

**4 ç®€ä»‹**: 

Foundry æ˜¯ä¸€ä¸ªä»¥å¤ªåŠæ™ºèƒ½åˆçº¦å¼€å‘æ¡†æ¶ã€‚SLOADS é¡¹ç›®å‡†å¤‡ç»™å®ƒæ·»åŠ ä¸€ä¸ª featureï¼Œèƒ½å¤Ÿéå¸¸æ–¹ä¾¿æ£€ç´¢æ™ºèƒ½åˆçº¦é‡Œé¢çš„æ‰€æœ‰ storage slotï¼Œç‰¹åˆ«æ˜¯åŠ¨æ€æ•°æ®ç»“æ„çš„ï¼Œå¦‚ Arrayï¼ŒMapã€‚åŸºäºæ­¤ï¼Œå¼€å‘è€…å¯ä»¥æ›´åŠ æ–¹ä¾¿åœ°æ·±å…¥æ¢ç´¢é“¾ä¸Šæ™ºèƒ½åˆçº¦çš„çŠ¶æ€ï¼Œæ¯”å¦‚æŸ¥æ‰¾æŸä¸ª token çš„æ‰€æœ‰æŒå¸åœ°å€ã€‚å·¥ä½œå†…å®¹ï¼šéœ€è¦ä¿®æ”¹ foundryï¼Œfoundry-std é‡Œé¢çš„ cheatcodeï¼Œä»¥åŠ foundry-evmã€‚èµ·å› åˆ™æ˜¯åœ¨å®Œæˆ[è¿™ä¸ª ctf](https://quillctf.super.site/challenges/quillctf-challenges/slot-puzzle) æ—¶é‡åˆ°äº†é—®é¢˜ã€‚

**5 é˜Ÿé•¿å’Œé˜Ÿå‘˜**: 

é˜Ÿé•¿: [@liquan.eth](https://github.com/flyq) é˜Ÿå‹ï¼š[@jjjpy](https://github.com/jpy1000)    [@clouds](https://github.com/clouds56)

**6 æœ¬é¡¹ç›®åœ¨è¿™æ¬¡é»‘å®¢æ¾çš„ç›®æ ‡**

ç›®æ ‡ï¼š
1. ä¿®æ”¹ Foundryï¼Œèƒ½å¤Ÿåœ¨ä½¿ç”¨ Foundry æ¨¡ç‰ˆçš„ solidity é¡¹ç›®ä¸­çš„ test ä¸­ä½¿ç”¨æ–°å¢çš„å‡ ä¸ª cheatcodeã€‚cheatcode èƒ½å¤ŸæŒ‰ç…§å‚æ•°è¦æ±‚è¿”å›æ‰€æœ‰ storage slots ç›¸å…³çš„ä¿¡æ¯ã€‚
    ```solidity
    function startMappingRecording() external;
    function getMappingLength(address target, bytes32 slot) external returns (uint);
    function getMappingSlotAt(address target, bytes32 slot, uint256 idx) external returns (bytes32);
    function getMappingKeyOf(address target, bytes32 slot) external returns (uint);
    function getMappingParentOf(address target, bytes32 slot) external returns (bytes32);
    ```
2. æ–°å»ºä¸€ä¸ªåˆçº¦æœ¬åœ°æµ‹è¯• toolkitï¼Œç”¨äºç®€åŒ–å’Œåˆçº¦äº¤äº’çš„å‘½ä»¤ã€‚
   1. ç”¨å¯ä»¥è¯»å–å…¶ä»–ä»»æ„è¯­è¨€ç”Ÿæˆçš„ abiï¼Œå¹¶å‘é€åˆçº¦ï¼Œæµ‹è¯•ç»“æœ
   2. å¼ºç±»å‹è¯­è¨€ï¼Œä½†åœ¨ç¼–å†™è¿‡ç¨‹ä¸­å¯ä»¥æœ‰æ›´ç®€æ˜“çš„ç±»å‹è½¬æ¢
   3. å¹¶æ ¹æ®åˆçº¦ abi çš„ Json æ–‡ä»¶è‡ªåŠ¨åŒ–è½¬æ¢è¾“å…¥å‘½ä»¤çš„å‚æ•°ã€‚

**7 é»‘å®¢æ¾å‰ä¸¤æ—¥çš„è¿›åº¦**

- Day 0:
  - [x] å®Œæˆç»„é˜Ÿï¼ŒGitHub org&repo çš„æ–°å»ºï¼šhttps://github.com/0xevm
  - [x] ç»†åŒ–ä»»åŠ¡ï¼š
    1. ç¡®å®š cheatcode çš„æ¥å£å‘½åï¼Œå¹¶è·å–åˆ°å¯¹åº”çš„ function signatureã€‚
    2. ç»™ revm æ–°å¢æ¥å£ï¼Œèƒ½å¤Ÿæå–æ­¤æ—¶çš„æŸä¸ª Accountï¼ˆæ™ºèƒ½åˆçº¦ï¼‰ é‡Œé¢çš„ storage map çš„ keyã€‚
    3. ä¿®æ”¹ foundryï¼Œå½“æ£€æŸ¥åˆ°è°ƒç”¨çš„åœ°å€æ˜¯ `CHEATCODE_ADDRESS`ï¼Œä¸” function signature æ»¡è¶³æ¡ä»¶æ—¶ï¼Œè°ƒç”¨åº•å±‚çš„ revm çš„æ–°å¢æ¥å£ï¼Œå°†ç»“æœï¼ˆindex çš„ bytes æ•°ç»„ï¼‰è¿”å›ã€‚
    4. Optionï¼Œåœ¨å‰é¢çš„åŸºç¡€ä¸Šï¼Œå»ºç«‹ index bytes å’Œ map çš„è”ç³»ï¼Œæ¯”å¦‚å¯¹äº Map1 å’Œ Map2ï¼Œèƒ½å¤ŸçŸ¥é“æŸä¸ªæŸä¸ª slot é‡Œé¢çš„æ•°æ®æ˜¯å±äºå“ªä¸ª map çš„å“ªä¸ª keyï¼Œéœ€è¦ ä¿®æ”¹ revm æ¥åœ¨æ‰§è¡Œæ—¶è®°å½•ä¸€äº› Metadata
    5. Optionï¼Œå°†è¿è¡Œåçš„ evm çŠ¶æ€å»ºç«‹ snapshotï¼Œå¹¶å­˜å‚¨ä¸º json æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨ forge inspect æ—¶ä¼ å…¥çŠ¶æ€ï¼Œè·å–æ­¤æ—¶æ‰€æœ‰çš„ storage layoutã€‚
    6. Optionï¼Œåœ¨å‰é¢çš„åŸºç¡€ä¸Šï¼Œç»™ forge test --debug æ–°å¢ storage layoutï¼Œæ–¹ä¾¿å¼€å‘åœ¨é€æ­¥è°ƒè¯•æ—¶èƒ½å¤Ÿçœ‹åˆ° bytecode çš„å˜åŒ–ã€‚
  - [x] æŸ¥çœ‹ foundry æ–‡æ¡£ï¼Œä»¥åŠæºç ï¼Œç¡®å®šä¿®æ”¹è·¯å¾„ã€‚
- Day 1:
  - [x] å®Œæˆä»»åŠ¡ 1-4.
  - [x] æ–°å»ºä¸€ä¸ª toolkitï¼Œå¹¶æ ¹æ®åˆçº¦ abi çš„ Json æ–‡ä»¶è‡ªåŠ¨åŒ–è½¬æ¢è¾“å…¥å‘½ä»¤çš„å‚æ•°ã€‚
  - [x] å®Œæˆ team info ä»¥åŠè§†é¢‘å½•åˆ¶ç­‰ã€‚

**8 è§†é¢‘é“¾æ¥**

https://www.bilibili.com/video/BV1LT411x72Q/

**9 é¡¹ç›® github repo é“¾æ¥**

æ‰€æœ‰ä»£ç éƒ½åœ¨

https://github.com/0xevm


**10 æ˜¯å¦åŸºäºä¹‹å‰çš„é¡¹ç›®**

è¯¥é¡¹ç›®æ˜¯æœ¬æ¬¡hackathonæœŸé—´ï¼Œä»0åˆ°1å¼€å‘çš„é¡¹ç›®ï¼Œå®Œå…¨åŸåˆ›ã€‚

**24.11 é¡¹ç›® Demo é“¾æ¥ï¼ˆé€‰å¡«ï¼‰**
https://github.com/0xevm/sloads_demo#sloads-demo----